domain: github.airbyte-interop
transforms:
  - name: pull_request
    from:
      - pull_requests: github.pull_requests
    fields:
      id:
        expression: pull_requests.id
        description: System generated unique id for the pull request.
      issue_id:
        expression: MISSING
        description: Foreign key that references the issue table.
      head_repo_id:
        expression: pull_requests.head.repo_id
        description: Foreign key that references the repository table, referencing
          the current branch.
      head_user_id:
        expression: pull_requests.head.user_id
        description: Foreign key that references the user table, referencing who created
          the current branch.
annotations:
  approved: false
  missing_fields:
    - issue_id
  evaluation:
    source_stream_name: pull_requests
    target_table_name: pull_request
    table_match_score: 0.65
    completion_score: 0.75
    explanation: The table match score is moderately high as the source and target
      table mappings are partially aligned, but there's a lack of complete field data
      serialization, which affects the completion score.
    field_mapping_evals:
      - name: id
        expression: pull_requests.id
        score: 1.0
        explanation: The field 'id' maps directly from source to target with a perfect
          expression match.
      - name: issue_id
        expression: MISSING
        score: 0.0
        explanation: No good match found.
      - name: head_repo_id
        expression: pull_requests.head.repo_id
        score: 0.7
        explanation: The mapping for 'head_repo_id' is likely correct based on the
          usage context, but there is some uncertainty if they refer to the exact
          same entity.
      - name: head_user_id
        expression: pull_requests.head.user_id
        score: 0.7
        explanation: The mapping for 'head_user_id' accurately connects relevant user
          data fields, but ambiguity in the context slightly limits the confidence.
