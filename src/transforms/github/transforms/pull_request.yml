domain: github.airbyte-interop
transforms:
  - name: pull_request
    from:
      - pull_requests: github.pull_requests
    fields:
      id:
        expression: pull_requests.id
        description: System generated unique id for the pull request.
      issue_id:
        expression: MISSING
        description: Foreign key that references the issue table.
      head_repo_id:
        expression: pull_requests.head.repo_id
        description: Foreign key that references the repository table, referencing
          the current branch.
      head_user_id:
        expression: pull_requests.head.user_id
        description: Foreign key that references the user table, referencing who created
          the current branch.
annotations:
  approved: true
  missing_fields:
    - issue_id
  evaluation:
    source_stream_name: pull_requests
    target_table_name: pull_request
    table_match_score: 0.8
    completion_score: 0.75
    explanation: The quality of table matching is high given the tightly related field
      mappings, showing strong subject matter similarity. The completion score reflects
      a mostly populated mapping but is not full due to some fields with 'MISSING'
      expressions.
    field_mapping_evals:
      - name: id
        expression: pull_requests.id
        score: 1.0
        explanation: Direct match found with identical field names and purposes.
      - name: issue_id
        expression: MISSING
        score: 0.0
        explanation: No good match found.
      - name: head_repo_id
        expression: pull_requests.head.repo_id
        score: 0.7
        explanation: Good match, referencing the current branch's repository. Close
          contextual alignment despite nested path.
      - name: head_user_id
        expression: pull_requests.head.user_id
        score: 0.7
        explanation: Good match, referencing the creator of the current branch's user
          ID. Close contextual alignment despite nested path.
