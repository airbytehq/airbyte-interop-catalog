domain: github.airbyte-interop
transforms:
  - name: issue_merged
    from:
      - pull_requests: github.pull_requests
    fields:
      issue_id:
        expression: pull_requests._airbyte_extracted_at
        description: Foreign key that references the issue table.  This table will
          only reference issues that are pull requests
      merged_at:
        expression: pull_requests._airbyte_extracted_at
        description: Timestamp of when the code merge took place
annotations:
  approved: true
  missing_fields: []
  evaluation:
    source_stream_name: pull_requests
    target_table_name: issue_merged
    table_match_score: 0.8
    completion_score: 0.7
    explanation: Both fields have plausible targets suggesting sound mappings. The
      '_airbyte_extracted_at' field mapping convention is used systemically, indicating
      the validity of 'issue_id's relation to `pull_requests`. The mapping for 'merged_at'
      feels a bit weak since there's no explicit context linking this to an actual
      merge timestamp, but it retains partial correctness as it reflects the extraction
      timestamp which can coincide with merge events.
    field_mapping_evals:
      - name: issue_id
        expression: pull_requests._airbyte_extracted_at
        score: 0.9
        explanation: Good conceptual match given that this field tracks issues specifically
          tied to pull requests.
      - name: merged_at
        expression: pull_requests._airbyte_extracted_at
        score: 0.6
        explanation: Mapped due to lack of better contextual data, assumes `_airbyte_extracted_at`
          might reflect the time of merging which is plausible but not guaranteed.
