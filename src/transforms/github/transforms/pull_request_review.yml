domain: github.airbyte-interop
transforms:
  - name: pull_request_review
    from:
      - reviews: github.reviews
    fields:
      id:
        expression: reviews.id
        description: System generated unique id for the pull request review.
      pull_request_id:
        expression: reviews.pull_request_url
        description: Foreign key that references the pull request table.
      submitted_at:
        expression: reviews.submitted_at
        description: Timestamp of when the request for review was submitted.
      state:
        expression: reviews.state
        description: Whether the review was an approval, request for change, comment,
          dismissal.
      user_id:
        expression: reviews.user.id
        description: Foreign key that references the user table, representing the
          user that reviewed the pull request.
annotations:
  approved: true
  missing_fields: []
  evaluation:
    source_stream_name: reviews
    target_table_name: pull_request_review
    table_match_score: 0.8
    completion_score: 0.9
    explanation: The mappings accurately reflect the intended target schema. The fields
      'id', 'pull_request_id', 'submitted_at', and 'state' are well matched with appropriate
      descriptions; only minor mismatches are evident, keeping confidence high. The
      overall table configuration suits the requirements and guidelines set for data
      integrity and transformation accuracy.
    field_mapping_evals:
      - name: id
        expression: reviews.id
        score: 1.0
        explanation: Exact match to 'reviews.id'.
      - name: pull_request_id
        expression: reviews.pull_request_url
        score: 0.95
        explanation: "'pull_request_id' maps to 'reviews.pull_request_url', which
          is the correct reference for pull requests."
      - name: submitted_at
        expression: reviews.submitted_at
        score: 1.0
        explanation: Perfect alignment with 'reviews.submitted_at' indicating accurate
          timestamp mapping.
      - name: state
        expression: reviews.state
        score: 1.0
        explanation: Correctly captures the review state with 'reviews.state'.
      - name: user_id
        expression: reviews.user.id
        score: 0.9
        explanation: "'user_id' maps to 'reviews.user.id' correctly identifying the
          user involved in the review though slight semantic risk exists."
