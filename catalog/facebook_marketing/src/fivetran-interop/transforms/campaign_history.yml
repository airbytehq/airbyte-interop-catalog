domain: facebook_marketing.fivetran-interop
transforms:
  - name: campaign_history
    from:
      - campaigns: facebook_marketing.campaigns
    fields:
      id:
        expression: campaigns.id
        description: The ID of the campaign.
      account_id:
        expression: campaigns.account_id
        description: The ID of the ad account that this campaign belongs to.
      name:
        expression: campaigns.name
        description: The name of the campaign.
      _fivetran_synced:
        expression: _airbyte_extracted_at
        description: "{{ doc('_fivetran_synced') }}"
      updated_time:
        expression: campaigns.updated_time
        description: "{{ doc('updated_time') }}"
      created_time:
        expression: campaigns.created_time
        description: The time the campaign was created.
      start_time:
        expression: campaigns.start_time
        description: Timestamp of designated campaign start time.
      stop_time:
        expression: campaigns.stop_time
        description: Timestamp of designated campaign end time.
      daily_budget:
        expression: campaigns.daily_budget
        description: Daily budget of campaign.
      budget_remaining:
        expression: campaigns.budget_remaining
        description: Remaining budget of campaign.
      lifetime_budget:
        expression: campaigns.lifetime_budget
        description: Lifetime budget of the campaign.
      status:
        expression: campaigns.status
        description: Status values are - 'ACTIVE', 'PAUSED', 'DELETED', 'ARCHIVED'.
annotations:
  evaluation:
    source_stream_name: campaigns
    target_table_name: campaign_history
    name_match_score: 0.95
    score: 0.85
    explanation: The table mapping evaluation resulted in a high confidence score
      due to strong matches between source columns and mappings provided. Name match
      score is particularly high as most fields have direct matches in both description
      and expression. Exceptions were made for '_fivetran_synced', which is correctly
      mapped to '_airbyte_extracted_at'.
    field_mapping_evals:
      - name: id
        expression: campaigns.id
        score: 1.0
        explanation: The mapping for 'id' to 'campaigns.id' is perfect.
      - name: account_id
        expression: campaigns.account_id
        score: 1.0
        explanation: The mapping for 'account_id' to 'campaigns.account_id' is perfect.
      - name: name
        expression: campaigns.name
        score: 1.0
        explanation: The mapping for 'name' to 'campaigns.name' is perfect.
      - name: _fivetran_synced
        expression: _airbyte_extracted_at
        score: 1.0
        explanation: The mapping for '_fivetran_synced' to '_airbyte_extracted_at'
          is always considered perfect.
      - name: updated_time
        expression: campaigns.updated_time
        score: 0.7
        explanation: Mapping 'updated_time' to 'campaigns.updated_time' is likely
          correct but not guaranteed.
      - name: created_time
        expression: campaigns.created_time
        score: 1.0
        explanation: The mapping for 'created_time' to 'campaigns.created_time' is
          perfect.
      - name: start_time
        expression: campaigns.start_time
        score: 1.0
        explanation: The mapping for 'start_time' to 'campaigns.start_time' is perfect.
      - name: stop_time
        expression: campaigns.stop_time
        score: 1.0
        explanation: The mapping for 'stop_time' to 'campaigns.stop_time' is perfect.
      - name: daily_budget
        expression: campaigns.daily_budget
        score: 1.0
        explanation: The mapping for 'daily_budget' to 'campaigns.daily_budget' is
          perfect.
      - name: budget_remaining
        expression: campaigns.budget_remaining
        score: 1.0
        explanation: The mapping for 'budget_remaining' to 'campaigns.budget_remaining'
          is perfect.
      - name: lifetime_budget
        expression: campaigns.lifetime_budget
        score: 1.0
        explanation: The mapping for 'lifetime_budget' to 'campaigns.lifetime_budget'
          is perfect.
      - name: status
        expression: campaigns.status
        score: 0.8
        explanation: The mapping for 'status' to 'campaigns.status' is high confidence
          but less than perfect due to potential for differing status values.
