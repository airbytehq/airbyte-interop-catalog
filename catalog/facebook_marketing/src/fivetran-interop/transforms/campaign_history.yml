domain: facebook_marketing.fivetran-interop
transforms:
  - name: campaign_history
    from:
      - campaigns: facebook_marketing.campaigns
    fields:
      id:
        expression: campaigns.id
        description: The ID of the campaign.
      account_id:
        expression: campaigns.account_id
        description: The ID of the ad account that this campaign belongs to.
      name:
        expression: campaigns.name
        description: The name of the campaign.
      _fivetran_synced:
        expression: campaigns._airbyte_extracted_at
        description: "{{ doc('_fivetran_synced') }}"
      updated_time:
        expression: campaigns.updated_time
        description: "{{ doc('updated_time') }}"
      created_time:
        expression: campaigns.created_time
        description: The time the campaign was created.
      start_time:
        expression: campaigns.start_time
        description: Timestamp of designated campaign start time.
      stop_time:
        expression: campaigns.stop_time
        description: Timestamp of designated campaign end time.
      daily_budget:
        expression: campaigns.daily_budget
        description: Daily budget of campaign.
      budget_remaining:
        expression: campaigns.budget_remaining
        description: Remaining budget of campaign.
      lifetime_budget:
        expression: campaigns.lifetime_budget
        description: Lifetime budget of the campaign.
      status:
        expression: campaigns.status
        description: Status values are - 'ACTIVE', 'PAUSED', 'DELETED', 'ARCHIVED'.
annotations:
  approved: true
  missing_fields: []
  evaluation:
    source_stream_name: campaigns
    target_table_name: campaign_history
    table_match_score: 0.8
    completion_score: 0.92
    explanation: The table match score is high due to most fields being directly translatable
      between the source and target with clear correspondence. Completion score is
      also high as almost all expected fields have been mapped with high confidence
      levels.
    field_mapping_evals:
      - name: id
        expression: campaigns.id
        score: 1.0
        explanation: Direct match with same meaning and purpose.
      - name: account_id
        expression: campaigns.account_id
        score: 1.0
        explanation: Direct match with same meaning and purpose.
      - name: name
        expression: campaigns.name
        score: 1.0
        explanation: Direct match with same meaning and purpose.
      - name: _fivetran_synced
        expression: campaigns._airbyte_extracted_at
        score: 1.0
        explanation: Standard mapping of _fivetran_synced to _airbyte_extracted_at.
      - name: updated_time
        expression: campaigns.updated_time
        score: 1.0
        explanation: Direct match with same meaning and purpose.
      - name: created_time
        expression: campaigns.created_time
        score: 1.0
        explanation: Direct match with same meaning and purpose.
      - name: start_time
        expression: campaigns.start_time
        score: 1.0
        explanation: Direct match with same meaning and purpose.
      - name: stop_time
        expression: campaigns.stop_time
        score: 1.0
        explanation: Direct match with same meaning and purpose.
      - name: daily_budget
        expression: campaigns.daily_budget
        score: 1.0
        explanation: Direct match with same meaning and purpose.
      - name: budget_remaining
        expression: campaigns.budget_remaining
        score: 1.0
        explanation: Direct match with same meaning and purpose.
      - name: lifetime_budget
        expression: campaigns.lifetime_budget
        score: 1.0
        explanation: Direct match with same meaning and purpose.
      - name: status
        expression: campaigns.status
        score: 0.7
        explanation: Mapping is likely the same, but context of possible values limits
          maximum score to 0.7.
