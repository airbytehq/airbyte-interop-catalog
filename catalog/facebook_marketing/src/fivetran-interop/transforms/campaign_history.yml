domain: facebook_marketing.fivetran-interop
transforms:
  - name: campaign_history
    from:
      - campaigns: facebook_marketing.campaigns
    fields:
      id:
        expression: campaigns.id
        description: The ID of the campaign.
      account_id:
        expression: campaigns.account_id
        description: The ID of the ad account that this campaign belongs to.
      name:
        expression: campaigns.name
        description: The name of the campaign.
      _fivetran_synced:
        expression: _airbyte_extracted_at
        description: "{{ doc('_fivetran_synced') }}"
      updated_time:
        expression: campaigns.updated_time
        description: "{{ doc('updated_time') }}"
      created_time:
        expression: campaigns.created_time
        description: The time the campaign was created.
      start_time:
        expression: campaigns.start_time
        description: Timestamp of designated campaign start time.
      stop_time:
        expression: campaigns.stop_time
        description: Timestamp of designated campaign end time.
      daily_budget:
        expression: campaigns.daily_budget
        description: Daily budget of campaign.
      budget_remaining:
        expression: campaigns.budget_remaining
        description: Remaining budget of campaign.
      lifetime_budget:
        expression: campaigns.lifetime_budget
        description: Lifetime budget of the campaign.
      status:
        expression: campaigns.status
        description: Status values are - 'ACTIVE', 'PAUSED', 'DELETED', 'ARCHIVED'.
annotations:
  approved: true
  missing_fields: []
  evaluation:
    source_stream_name: campaigns
    target_table_name: campaign_history
    name_match_score: 0.95
    score: 0.85
    explanation:
      The overall mapping confidence is high due to strong matches between
      the field names and descriptions with the target schema.
    field_mapping_evals:
      - name: id
        expression: campaigns.id
        score: 1.0
        explanation: The field 'id' has a perfect mapping with 'campaigns.id'.
      - name: account_id
        expression: campaigns.account_id
        score: 1.0
        explanation: The field 'account_id' is perfectly mapped to 'campaigns.account_id'.
      - name: name
        expression: campaigns.name
        score: 1.0
        explanation: Field 'name' is perfectly mapped to 'campaigns.name'.
      - name: _fivetran_synced
        expression: _airbyte_extracted_at
        score: 1.0
        explanation: The field '_fivetran_synced' is accurately mapped to '_airbyte_extracted_at'.
      - name: updated_time
        expression: campaigns.updated_time
        score: 0.65
        explanation:
          The mapping between 'updated_time' and 'campaigns.updated_time'
          is fairly strong based on the description.
      - name: created_time
        expression: campaigns.created_time
        score: 0.9
        explanation:
          The field 'created_time' is well-matched with 'campaigns.created_time',
          aligning closely with the description.
      - name: start_time
        expression: campaigns.start_time
        score: 0.9
        explanation:
          The field 'start_time' matches well with 'campaigns.start_time'
          based on the description.
      - name: stop_time
        expression: campaigns.stop_time
        score: 0.9
        explanation:
          The field 'stop_time' is well-matched with 'campaigns.stop_time',
          reflecting the intended meanings closely.
      - name: daily_budget
        expression: campaigns.daily_budget
        score: 0.9
        explanation: There is a strong correlation between 'daily_budget' and 'campaigns.daily_budget'.
      - name: budget_remaining
        expression: campaigns.budget_remaining
        score: 0.9
        explanation: Field 'budget_remaining' is well aligned with 'campaigns.budget_remaining'.
      - name: lifetime_budget
        expression: campaigns.lifetime_budget
        score: 0.9
        explanation: The field 'lifetime_budget' maps strongly with 'campaigns.lifetime_budget'.
      - name: status
        expression: campaigns.status
        score: 0.9
        explanation:
          There is a good match between 'status' and 'campaigns.status'
          based on description involving status values.
