domain: tiktok_marketing.fivetran-interop
transforms:
  - name: ad_history
    from:
      - ads: tiktok_marketing.ads
    fields:
      ad_id:
        expression: ads.ad_id
        description: Ad ID
      updated_at:
        expression: ads._airbyte_extracted_at
        description: Time the record was updated.
      adgroup_id:
        expression: ads.adgroup_id
        description: Ad group ID
      advertiser_id:
        expression: ads.advertiser_id
        description: Advertiser ID
      campaign_id:
        expression: ads.campaign_id
        description: Campaign ID
      ad_name:
        expression: ads.ad_name
        description: Ad Name.
      ad_text:
        expression: ads.ad_text
        description: The ad text.
      app_name:
        expression: ads.app_name
        description: The display name of app download ad.
      call_to_action:
        expression: ads.call_to_action
        description: Call to action values.
      click_tracking_url:
        expression: ads.click_tracking_url
        description: Click monitoring URL.
      create_time:
        expression: ads.create_time
        description: Time at which the ad was created.
      display_name:
        expression: ads.display_name
        description: The display name of landing page or pure exposure ad.
      image_ids:
        expression: ads.image_ids
        description: A list of image IDs.
      impression_tracking_url:
        expression: ads.impression_tracking_url
        description: Display monitoring URL.
      is_aco:
        expression: ads.is_aco
        description: Whether the ad is an automated ad.
      is_creative_authorized:
        expression: ads.creative_authorized
        description:
          "Whether you grant displaying some of your ads in our TikTok
          For Business Creative Center. Only valid for non-US advertisers, the default
          value is false.\n"
      is_new_structure:
        expression: ads.is_new_structure
        description: Whether the campaign is a new structure.
      landing_page_url:
        expression: ads.landing_page_url
        description: Landing page URL.
      open_url:
        expression: ads.deeplink
        description:
          The specific location where you want your audience to go if they
          have your app installed.
      opt_status:
        expression: ads.operation_status
        description: Operation status.
      playable_url:
        expression: ads.playable_url
        description: Playable material url.
      profile_image:
        expression: ads.profile_image_url
        description: Avatar URL.
      status:
        expression: ads.secondary_status
        description: Ad status.
      video_id:
        expression: ads.video_id
        description: The video ID.
annotations:
  approved: true
  missing_fields: []
  evaluation:
    source_stream_name: ads
    target_table_name: ad_history
    name_match_score: 0.8
    score: 0.85
    explanation:
      The field mappings have a high level of consistency and match well
      with the expected expressions. However, a few mappings could potentially be
      misunderstood if not monitored closely.
    field_mapping_evals:
      - name: ad_id
        expression: ads.ad_id
        score: 1.0
        explanation: Perfect match as the name and expression align precisely.
      - name: updated_at
        expression: ads._airbyte_extracted_at
        score: 0.9
        explanation: High confidence with a standard field name used for timestamp.
      - name: adgroup_id
        expression: ads.adgroup_id
        score: 0.95
        explanation: Clear alignment between the field name and the provided expression.
      - name: advertiser_id
        expression: ads.advertiser_id
        score: 0.95
        explanation: Field naming directly corresponds to the expression.
      - name: campaign_id
        expression: ads.campaign_id
        score: 1.0
        explanation: Precise match between the field name and its expression.
      - name: ad_name
        expression: ads.ad_name
        score: 0.85
        explanation:
          Potential for confusion with other 'name' fields, but contextually
          appropriate.
      - name: ad_text
        expression: ads.ad_text
        score: 0.85
        explanation: Specific to ads and unlikely to be confused with other fields.
      - name: app_name
        expression: ads.app_name
        score: 0.8
        explanation:
          Could potentially be confused with 'ad_name' but serves a distinct
          purpose.
      - name: call_to_action
        expression: ads.call_to_action
        score: 0.8
        explanation: Field is specific but could potentially be confused without context.
      - name: click_tracking_url
        expression: ads.click_tracking_url
        score: 0.9
        explanation: Name and expression suggest a direct correlation without ambiguity.
      - name: create_time
        expression: ads.create_time
        score: 0.9
        explanation: Standard timestamp field name with high match confidence.
      - name: display_name
        expression: ads.display_name
        score: 0.75
        explanation: Potential confusion with 'ad_name' though distinct in description.
      - name: image_ids
        expression: ads.image_ids
        score: 0.95
        explanation: Highly specific to the context of ads.
      - name: impression_tracking_url
        expression: ads.impression_tracking_url
        score: 0.9
        explanation: High confidence due to specific use case.
      - name: is_aco
        expression: ads.is_aco
        score: 0.85
        explanation: Clear indication of ad status with some scope for confusion.
      - name: is_creative_authorized
        expression: ads.creative_authorized
        score: 0.85
        explanation: Highly descriptive despite potential variations in interpretation.
      - name: is_new_structure
        expression: ads.is_new_structure
        score: 0.8
        explanation: Some ambiguity without documentation but matches description.
      - name: landing_page_url
        expression: ads.landing_page_url
        score: 0.95
        explanation: Highly descriptive and confident mapping.
      - name: open_url
        expression: ads.deeplink
        score: 0.8
        explanation: Potential ambiguity but specific to the task.
      - name: opt_status
        expression: ads.operation_status
        score: 0.8
        explanation: May have varying interpretations but clear in this context.
      - name: playable_url
        expression: ads.playable_url
        score: 0.9
        explanation: Clear indication of unique purpose.
      - name: profile_image
        expression: ads.profile_image_url
        score: 0.8
        explanation: Potentially confused with other image types but distinct in use.
      - name: status
        expression: ads.secondary_status
        score: 0.8
        explanation: General term, could have multiple interpretations.
      - name: video_id
        expression: ads.video_id
        score: 0.85
        explanation: Specific enough to warrant high confidence.
