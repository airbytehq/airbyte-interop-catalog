domain: tiktok_marketing.fivetran-interop
transforms:
  - name: advertiser
    from:
      - advertisers: tiktok_marketing.advertisers
    fields:
      id:
        expression: advertisers.advertiser_id
        description: Advertiser ID
      address:
        expression: advertisers.address
        description: Advertiser address information
      balance:
        expression: advertisers.balance
        description: Account available balance
      cellphone_number:
        expression: advertisers.cellphone_number
        description:
          "Contact mobile number, desensitised data. This is the newest
          version of the field `phone_number`, which was renamed after the Tiktok
          Ads v1.3 API release.\n"
      company:
        expression: advertisers.company
        description: Advertiser's company name
      contacter:
        expression: advertisers.contacter
        description: Contact Person
      country:
        expression: advertisers.country
        description: The advertiser's country
      create_time:
        expression: advertisers.create_time
        description: Advertiser's create time
      currency:
        expression: advertisers.currency
        description: Type of currency used by advertisers
      description:
        expression: advertisers.description
        description: Brand description, i.e. promotional content
      email:
        expression: advertisers.email
        description: Advertiser contact email, desensitised data
      industry:
        expression: advertisers.industry
        description: Advertiser industry category
      language:
        expression: advertisers.language
        description: Language used by advertisers
      license_no:
        expression: advertisers.license_no
        description: License number
      license_url:
        expression: advertisers.license_url
        description: License preview address, the link is valid for an hour by default.
      name:
        expression: advertisers.name
        description: Advertiser name
      phone_number:
        expression: MISSING
        description:
          "Contact mobile number, desensitised data. IMPORTANT: This field
          will not be populated for connectors utilizing the Tiktok Ads v1.3 API version,
          as the column was renamed.  The new column name is `cellphone_number`.\n"
      promotion_area:
        expression: advertisers.promotion_area
        description: Operation area
      reason:
        expression: advertisers.rejection_reason
        description: Reason for rejection
      role:
        expression: advertisers.role
        description: Advertiser role
      status:
        expression: advertisers.status
        description: Advertiser status
      telephone:
        expression: MISSING
        description:
          "Fixed phone number, desensitised data IMPORTANT: This field
          will not be populated for connectors utilizing the Tiktok Ads v1.3 API version,
          as the column was renamed.  The new column name is `telephone_number`.\n"
      telephone_number:
        expression: advertisers.telephone_number
        description:
          "Fixed phone number, desensitised data This is the newest version
          of the field `telephone`, which was renamed after the Tiktok Ads v1.3 API
          release.\n"
      timezone:
        expression: advertisers.timezone
        description: Ad account time zone including GMT offset
      _fivetran_synced:
        expression: advertisers._airbyte_extracted_at
        description: Timestamp of when Fivetran synced a record.
annotations:
  approved: true
  missing_fields:
    - phone_number
    - telephone
  evaluation:
    source_stream_name: advertisers
    target_table_name: advertiser
    table_match_score: 0.85
    completion_score: 0.9
    explanation:
      The table has strong similarities in representing advertiser information
      across both source and target schemas. However, there is some discrepancy in
      field mapping completion due primarily to missing field expressions, though
      key fields like '_fivetran_synced' show complete and direct mapping.
    field_mapping_evals:
      - name: id
        expression: advertisers.advertiser_id
        score: 0.95
        explanation: The field 'id' is mapped accurately to 'advertisers.advertiser_id'.
      - name: address
        expression: advertisers.address
        score: 0.95
        explanation: The field 'address' corresponds well with 'advertisers.address'.
      - name: balance
        expression: advertisers.balance
        score: 0.95
        explanation: The field 'balance' is correctly mapped to 'advertisers.balance'.
      - name: cellphone_number
        expression: advertisers.cellphone_number
        score: 0.95
        explanation:
          "'cellphone_number' matches with 'advertisers.cellphone_number',
          reminiscent of a field update."
      - name: company
        expression: advertisers.company
        score: 0.95
        explanation: The field 'company' corresponds well with 'advertisers.company'.
      - name: contacter
        expression: advertisers.contacter
        score: 0.95
        explanation: The field 'contacter' aligns well with 'advertisers.contacter'.
      - name: country
        expression: advertisers.country
        score: 0.95
        explanation: The field 'country' is correctly mapped to 'advertisers.country'.
      - name: create_time
        expression: advertisers.create_time
        score: 0.95
        explanation: The field 'create_time' maps directly to 'advertisers.create_time'.
      - name: currency
        expression: advertisers.currency
        score: 0.95
        explanation: The field 'currency' is mapped accurately to 'advertisers.currency'.
      - name: description
        expression: advertisers.description
        score: 0.95
        explanation: The field 'description' is correctly mapped to 'advertisers.description'.
      - name: email
        expression: advertisers.email
        score: 0.95
        explanation: The field 'email' corresponds well with 'advertisers.email'.
      - name: industry
        expression: advertisers.industry
        score: 0.95
        explanation: The field 'industry' is correctly mapped to 'advertisers.industry'.
      - name: language
        expression: advertisers.language
        score: 0.95
        explanation: The field 'language' corresponds well with 'advertisers.language'.
      - name: license_no
        expression: advertisers.license_no
        score: 0.95
        explanation: The field 'license_no' maps directly to 'advertisers.license_no'.
      - name: license_url
        expression: advertisers.license_url
        score: 0.95
        explanation: The field 'license_url' is mapped accurately to 'advertisers.license_url'.
      - name: name
        expression: advertisers.name
        score: 0.95
        explanation: The field 'name' matches correctly with 'advertisers.name'.
      - name: phone_number
        expression: MISSING
        score: 0.0
        explanation: No good match found.
      - name: promotion_area
        expression: advertisers.promotion_area
        score: 0.95
        explanation: The field 'promotion_area' corresponds well with 'advertisers.promotion_area'.
      - name: reason
        expression: advertisers.rejection_reason
        score: 0.95
        explanation: The field 'reason' maps directly to 'advertisers.rejection_reason'.
      - name: role
        expression: advertisers.role
        score: 0.95
        explanation: The field 'role' is correctly mapped to 'advertisers.role'.
      - name: status
        expression: advertisers.status
        score: 0.95
        explanation: The field 'status' corresponds well with 'advertisers.status'.
      - name: telephone
        expression: MISSING
        score: 0.0
        explanation: No good match found.
      - name: telephone_number
        expression: advertisers.telephone_number
        score: 0.95
        explanation: The field 'telephone_number' matches correctly with 'advertisers.telephone_number'.
      - name: timezone
        expression: advertisers.timezone
        score: 0.95
        explanation: The field 'timezone' is mapped accurately to 'advertisers.timezone'.
      - name: _fivetran_synced
        expression: advertisers._airbyte_extracted_at
        score: 1.0
        explanation: The field '_fivetran_synced' is correctly mapped to 'advertisers._airbyte_extracted_at'.
