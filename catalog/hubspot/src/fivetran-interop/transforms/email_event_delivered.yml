domain: hubspot.fivetran-interop
transforms:
  - name: email_event_delivered
    from:
      - email_events: hubspot.email_events
    fields:
      _fivetran_synced:
        expression: email_events._airbyte_extracted_at
        description: '{{ doc("_fivetran_synced") }}'
      id:
        expression: email_events.id
        description: The ID of the event.
      response:
        expression: email_events.response
        description: The full response from the recipient's email server.
      smtp_id:
        expression: email_events.smtpId
        description: An ID attached to the message by HubSpot.
annotations:
  approved: true
  missing_fields: []
  evaluation:
    source_stream_name: email_events
    target_table_name: email_event_delivered
    table_match_score: 0.9
    completion_score: 0.9
    explanation:
      The table mappings are likely to be very similar due to shared API
      origins. However, the completion score reflects the slight differences in implementations.
    field_mapping_evals:
      - name: _fivetran_synced
        expression: email_events._airbyte_extracted_at
        score: 1.0
        explanation:
          Standard mapping to _airbyte_extracted_at, which is always a
          perfect match.
      - name: id
        expression: email_events.id
        score: 0.8
        explanation:
          The ID field is likely to be similar, but due to potential differing
          usages across systems, a score of 0.8 is appropriate.
      - name: response
        expression: email_events.response
        score: 0.7
        explanation:
          The response field is matched based on the content expected;
          however, different systems might use different levels of detail or format.
      - name: smtp_id
        expression: email_events.smtpId
        score: 0.75
        explanation:
          This ID corresponds to a message-specific identifier used in
          email systems, and matches are likely but not guaranteed to be identical.
