domain: hubspot.fivetran-interop
transforms:
  - name: email_event_delivered
    from:
      - email_events: hubspot.email_events
    fields:
      _fivetran_synced:
        expression: email_events._airbyte_extracted_at
        description: '{{ doc("_fivetran_synced") }}'
      id:
        expression: email_events.id
        description: The ID of the event.
      response:
        expression: email_events.response
        description: The full response from the recipient's email server.
      smtp_id:
        expression: email_events.smtpId
        description: An ID attached to the message by HubSpot.
annotations:
  approved: false
  missing_fields: []
  evaluation:
    source_stream_name: email_events
    target_table_name: email_event_delivered
    name_match_score: 0.8
    score: 0.675
    explanation:
      The mappings have been evaluated, considering the provided fields
      and rules. The '_fivetran_synced' mapping is considered a perfect match as per
      the instructions, while other fields like 'id', 'response', and 'smtp_id' have
      matches that are valid but fall short of perfect certainty, resulting in a lower
      score.
    field_mapping_evals:
      - name: _fivetran_synced
        expression: email_events._airbyte_extracted_at
        score: 1.0
        explanation:
          The field '_fivetran_synced' is perfectly mapped to the '_airbyte_extracted_at'
          column as expected.
      - name: id
        expression: email_events.id
        score: 0.65
        explanation:
          The 'id' field mapping to 'email_events.id' is plausible but
          not certain enough for a higher score.
      - name: response
        expression: email_events.response
        score: 0.7
        explanation:
          The 'response' field mapping has a reasonable match with 'email_events.response',
          but could refer to different entities in varied contexts.
      - name: smtp_id
        expression: email_events.smtpId
        score: 0.65
        explanation:
          The 'smtp_id' matches with 'email_events.smtpId' fairly well,
          though it isn't high enough to rule out mismatches.
