domain: hubspot.fivetran-interop
transforms:
  - name: deal
    from:
      - deals: hubspot.deals
    fields:
      deal_id:
        expression: deals.id
        description: The ID of the deal.
      is_deleted:
        expression: deals.archived
        description: Whether the record was deleted.
      portal_id:
        expression: MISSING
        description: '{{ doc("portal_id") }}'
      deal_pipeline_id:
        expression: deals.properties.pipeline
        description: The ID of the deal's pipeline.
      deal_pipeline_stage_id:
        expression: deals.properties.dealstage
        description: The ID of the deal's pipeline stage.
      owner_id:
        expression: deals.properties.hs_all_owner_ids
        description: The ID of the deal's owner.
      property_dealname:
        expression: deals.properties.dealname
        description: The name you have given this deal.
      property_description:
        expression: deals.properties.description
        description: A brief description of the deal.
      property_amount:
        expression: deals.properties.amount
        description: The total value of the deal in the deal's currency.
      property_closedate:
        expression: deals.properties.closedate
        description: The day the deal is expected to close, or was closed.
      property_createdate:
        expression: deals.properties.createdate
        description:
          The date the deal was created. This property is set automatically
          by HubSpot.
