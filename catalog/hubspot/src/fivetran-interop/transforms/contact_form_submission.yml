domain: hubspot.fivetran-interop
transforms:
  - name: contact_form_submission
    from:
      - contacts_form_submissions: hubspot.contacts_form_submissions
    fields:
      _fivetran_synced:
        expression: contacts_form_submissions._airbyte_extracted_at
        description: '{{ doc("_fivetran_synced") }}'
      contact_id:
        expression: contacts_form_submissions.canonical_vid
        description: The ID of the related contact.
      conversion_id:
        expression: contacts_form_submissions.conversion_id
        description: A Unique ID for the specific form conversion.
      form_id:
        expression: contacts_form_submissions.form_id
        description: The GUID of the form that the submission belongs to.
      page_url:
        expression: contacts_form_submissions.page_url
        description: The URL that the form was submitted on, if applicable.
      portal_id:
        expression: contacts_form_submissions.portal_id
        description: '{{ doc("portal_id") }}'
      timestamp:
        expression: contacts_form_submissions.timestamp
        description: A Unix timestamp in milliseconds of the time the submission occurred.
      title:
        expression: contacts_form_submissions.title
        description:
          The title of the page that the form was submitted on. This will
          default to the name of the form if no title is provided.
annotations:
  approved: true
  missing_fields: []
  evaluation:
    source_stream_name: contacts_form_submissions
    target_table_name: contact_form_submission
    name_match_score: 0.8
    score: 0.85
    explanation:
      The mappings were evaluated based on the similarity of field names
      and their respective expressions. High confidence for fields with clear matches.
    field_mapping_evals:
      - name: _fivetran_synced
        expression: contacts_form_submissions._airbyte_extracted_at
        score: 1.0
        explanation:
          Perfect match with '_airbyte_extracted_at' which is the expected
          source column for '_fivetran_synced'.
      - name: contact_id
        expression: contacts_form_submissions.canonical_vid
        score: 0.9
        explanation:
          High confidence as 'contact_id' in contacts_form_submissions
          directly relates to a 'contact'.
      - name: conversion_id
        expression: contacts_form_submissions.conversion_id
        score: 0.85
        explanation:
          Good match as 'conversion_id' is a unique identifier related
          to the form conversion.
      - name: form_id
        expression: contacts_form_submissions.form_id
        score: 0.8
        explanation: "'form_id' matches the description of the form GUID adequately."
      - name: page_url
        expression: contacts_form_submissions.page_url
        score: 0.7
        explanation:
          Although 'page_url' is suggestive of a URL, some ambiguity exists
          as the description only refers to the submission page.
      - name: portal_id
        expression: contacts_form_submissions.portal_id
        score: 0.75
        explanation:
          "'portal_id' matches closely but relies on documentation for
          context."
      - name: timestamp
        expression: contacts_form_submissions.timestamp
        score: 0.9
        explanation: High confidence in mapping 'timestamp' to a Unix timestamp.
      - name: title
        expression: contacts_form_submissions.title
        score: 0.8
        explanation: The 'title' is adequately matched to the page title or form name.
