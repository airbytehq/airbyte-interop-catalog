domain: hubspot.fivetran-interop
transforms:
  - name: engagement_task
    from:
      - engagements_tasks: hubspot.engagements_tasks
    fields:
      _fivetran_synced:
        expression: engagements_tasks._airbyte_extracted_at
        description: '{{ doc("_fivetran_synced") }}'
      engagement_id:
        expression: engagements_tasks.id
        description: The ID of the engagement.
      property_hs_createdate:
        expression: engagements_tasks.properties.hs_createdate
        description:
          "This field marks the task's time of creation and determines
          where the task sits on the record timeline. You can use either a Unix timestamp
          in milliseconds or UTC format. \nPLEASE NOTE: This field will only be populated
          for connectors utilizing the HubSpot v3 API version. For the pre HubSpot
          v3 versions, this value may be found within the parent `engagement` table.\n"
      timestamp:
        expression: engagements_tasks.properties.hs_timestamp
        description:
          "This field marks the task's time of occurrence and determines
          where the task sits on the record timeline. You can use either a Unix timestamp
          in milliseconds or UTC format. \nPLEASE NOTE: This field will only be populated
          for connectors utilizing the HubSpot v3 API version. For the pre HubSpot
          v3 versions, this value may be found within the parent `engagement` table.\n"
      property_hubspot_owner_id:
        expression: engagements_tasks.properties_hubspot_owner_id
        description:
          "The ID of the owner associated with the task. This field determines
          the user listed as the task creator on the record timeline.\nPLEASE NOTE:
          This field will only be populated for connectors utilizing the HubSpot v3
          API version. For the pre HubSpot v3 versions, this value may be found within
          the parent `engagement` table.\n"
      property_hubspot_team_id:
        expression: engagements_tasks.properties_hubspot_team_id
        description:
          "The ID of the team associated with the task. This field determines
          the team listed as the task creator on the record timeline.\nPLEASE NOTE:
          This field will only be populated for connectors utilizing the HubSpot v3
          API version.\n"
annotations:
  approved: true
  missing_fields: []
  evaluation:
    source_stream_name: engagements_tasks
    target_table_name: engagement_task
    name_match_score: 0.9
    score: 0.85
    explanation:
      The overall mapping is quite strong, with most fields matching well
      with their intended expressions. However, care was taken to ensure that mappings
      that could refer to different entities were scored lower. The mappings collectively
      represent a robust configuration for tracking engagement tasks.
    field_mapping_evals:
      - name: _fivetran_synced
        expression: engagements_tasks._airbyte_extracted_at
        score: 1.0
        explanation:
          Perfect mapping as _fivetran_synced properly maps to _airbyte_extracted_at,
          which is intended for synchronization timestamp.
      - name: engagement_id
        expression: engagements_tasks.id
        score: 0.9
        explanation:
          Strong mapping, as 'id' usually represents identifiers and matches
          the intended use.
      - name: property_hs_createdate
        expression: engagements_tasks.properties.hs_createdate
        score: 0.85
        explanation:
          Good match with 'hs_createdate'. Potential mismatch in format
          or context, so not a perfect match.
      - name: timestamp
        expression: engagements_tasks.properties.hs_timestamp
        score: 0.85
        explanation:
          Good mapping for time of occurrence, though 'timestamp' might
          imply a broader usage.
      - name: property_hubspot_owner_id
        expression: engagements_tasks.properties_hubspot_owner_id
        score: 0.8
        explanation:
          Fair mapping for owner identification, taking into consideration
          possible differences in data representations.
      - name: property_hubspot_team_id
        expression: engagements_tasks.properties_hubspot_team_id
        score: 0.7
        explanation:
          Reasonable mapping, assuming the task team association is consistent
          across all data points.
