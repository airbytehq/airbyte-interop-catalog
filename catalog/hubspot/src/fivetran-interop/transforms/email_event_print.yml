domain: hubspot.fivetran-interop
transforms:
  - name: email_event_print
    from:
      - email_events: hubspot.email_events
    fields:
      _fivetran_synced:
        expression: email_events._airbyte_extracted_at
        description: '{{ doc("_fivetran_synced") }}'
      browser:
        expression: email_events.browser
        description: '{{ doc("email_event_browser") }}'
      id:
        expression: email_events.id
        description: The ID of the event.
      ip_address:
        expression: email_events.ipAddress
        description: '{{ doc("email_event_ip_address") }}'
      location:
        expression: email_events.location
        description: '{{ doc("email_event_location") }}'
      user_agent:
        expression: email_events.userAgent
        description: '{{ doc("email_event_user_agent") }}'
annotations:
  approved: true
  missing_fields: []
  evaluation:
    source_stream_name: email_events
    target_table_name: email_event_print
    name_match_score: 0.9
    score: 0.85
    explanation:
      The table mapping evaluation yielded an overall high confidence score
      due to precise mappings for most fields. The '_fivetran_synced' field mapped
      perfectly to 'email_events._airbyte_extracted_at', contributing significantly
      to the confidence score. Other fields like 'browser', 'id', and 'user_agent'
      also showed strong matches. However, 'ip_address' and 'location' had slightly
      lower confidence due to potential ambiguities in terminologies or context, preventing
      a perfect score.
    field_mapping_evals:
      - name: _fivetran_synced
        expression: email_events._airbyte_extracted_at
        score: 1.0
        explanation:
          Mapped correctly to the source stream's '_airbyte_extracted_at'
          as expected.
      - name: browser
        expression: email_events.browser
        score: 0.9
        explanation: Confidence is high due to the direct match with 'email_events.browser'.
      - name: id
        expression: email_events.id
        score: 0.95
        explanation: Very high confidence as 'id' directly maps to 'email_events.id'.
      - name: ip_address
        expression: email_events.ipAddress
        score: 0.7
        explanation:
          Some ambiguities exist with terminology, preventing a higher
          confidence score.
      - name: location
        expression: email_events.location
        score: 0.6
        explanation: The mapping is somewhat ambiguous, leading to moderate confidence.
      - name: user_agent
        expression: email_events.userAgent
        score: 0.85
        explanation: Mapped with strong confidence to 'email_events.userAgent'.
