domain: hubspot.fivetran-interop
transforms:
  - name: deal_pipeline
    from:
      - deal_pipelines: hubspot.deal_pipelines
    fields:
      _fivetran_deleted:
        expression: MISSING
        description: '{{ doc("_fivetran_deleted") }}'
      _fivetran_synced:
        expression: deal_pipelines._airbyte_extracted_at
        description: '{{ doc("_fivetran_synced") }}'
      active:
        expression: deal_pipelines.active
        description: Whether the stage is currently in use.
      display_order:
        expression: deal_pipelines.displayOrder
        description:
          Used to determine the order in which the pipelines appear when
          viewed in HubSpot.
      label:
        expression: deal_pipelines.label
        description:
          The human-readable label for the pipeline. The label is used
          when showing the pipeline in HubSpot.
      pipeline_id:
        expression: deal_pipelines.pipelineId
        description: The ID of the pipeline.
      created_at:
        expression: deal_pipelines.createdAt
        description: A timestamp representing when the record was created.
      updated_at:
        expression: deal_pipelines.updatedAt
        description: A timestamp representing when the record was updated.
annotations:
  approved: false
  missing_fields:
    - _fivetran_deleted
  evaluation:
    source_stream_name: deal_pipelines
    target_table_name: deal_pipeline
    name_match_score: 0.8
    score: 0.6125
    explanation:
      Overall confidence score is calculated based on individual field
      mappings.
    field_mapping_evals:
      - name: _fivetran_deleted
        expression: MISSING
        score: 0.0
        explanation: Mapping uses 'MISSING'. No confidence in this mapping.
      - name: _fivetran_synced
        expression: deal_pipelines._airbyte_extracted_at
        score: 1.0
        explanation: Correctly mapped to '_airbyte_extracted_at' column.
      - name: active
        expression: deal_pipelines.active
        score: 0.7
        explanation: Likely accurate mapping based on name and context.
      - name: display_order
        expression: deal_pipelines.displayOrder
        score: 0.7
        explanation: Likely accurate mapping based on typical usage.
      - name: label
        expression: deal_pipelines.label
        score: 0.7
        explanation: Likely accurate mapping based on name and context.
      - name: pipeline_id
        expression: deal_pipelines.pipelineId
        score: 0.7
        explanation: Likely accurate mapping based on name and context.
      - name: created_at
        expression: deal_pipelines.createdAt
        score: 0.7
        explanation: Likely accurate mapping based on typical usage.
      - name: updated_at
        expression: deal_pipelines.updatedAt
        score: 0.7
        explanation: Likely accurate mapping based on typical usage.
