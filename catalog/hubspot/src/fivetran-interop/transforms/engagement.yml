domain: hubspot.fivetran-interop
transforms:
  - name: engagement
    from:
      - engagements: hubspot.engagements
    fields:
      _fivetran_synced:
        expression: engagements._airbyte_extracted_at
        description: '{{ doc("_fivetran_synced") }}'
      active:
        expression: engagements.active
        description: "Whether the engagement is currently being shown in the UI.\n
          PLEASE NOTE: This field will not be populated for connectors utilizing the
          HubSpot v3 API version. This field will be deprecated in a future release.\n"
      created_at:
        expression: engagements.createdAt
        description: "A timestamp representing when the engagement was created.\n
          PLEASE NOTE: This field will not be populated for connectors utilizing the
          HubSpot v3 API version. This field will be deprecated in a future release.\n"
      id:
        expression: engagements.id
        description: The ID of the engagement.
      owner_id:
        expression: engagements.ownerId
        description: "The ID of the engagement's owner.\nPLEASE NOTE: This field will
          not be populated for connectors utilizing the HubSpot v3 API version. This
          field will be deprecated in a future release.\n"
      portal_id:
        expression: engagements.portalId
        description: '{{ doc("portal_id") }}'
      timestamp:
        expression: engagements.timestamp
        description: "A timestamp in representing the time that the engagement should
          appear in the timeline.\nPLEASE NOTE: This field will not be populated for
          connectors utilizing the HubSpot v3 API version. This field will be deprecated
          in a future release.\n"
      type:
        expression: engagements.type
        description: One of NOTE, EMAIL, TASK, MEETING, or CALL, the type of the engagement.
annotations:
  approved: true
  missing_fields: []
  evaluation:
    source_stream_name: engagements
    target_table_name: engagement
    table_match_score: 0.85
    completion_score: 0.75
    explanation: The table mapping shows high match quality with a strong correspondence
      between most fields. However, some fields from the source schema could not be
      mapped to the target schema.
    field_mapping_evals:
      - name: _fivetran_synced
        expression: engagements._airbyte_extracted_at
        score: 1.0
        explanation: Standard mapping from '_fivetran_synced' to '_airbyte_extracted_at'.
      - name: active
        expression: engagements.active
        score: 0.6
        explanation: Mapped to 'engagements.active' with moderate confidence.
      - name: created_at
        expression: engagements.createdAt
        score: 0.6
        explanation: Mapped to 'engagements.createdAt' with moderate confidence.
      - name: id
        expression: engagements.id
        score: 0.7
        explanation: Mapped to 'engagements.id', high confidence due to clear correspondence.
      - name: owner_id
        expression: engagements.ownerId
        score: 0.6
        explanation: Mapped to 'engagements.ownerId' with moderate confidence.
      - name: portal_id
        expression: engagements.portalId
        score: 0.6
        explanation: Mapped to 'engagements.portalId' with moderate confidence.
      - name: timestamp
        expression: engagements.timestamp
        score: 0.6
        explanation: Mapped to 'engagements.timestamp' with moderate confidence.
      - name: type
        expression: engagements.type
        score: 0.7
        explanation: Mapped to 'engagements.type', high confidence due to distinct
          field type categories.
