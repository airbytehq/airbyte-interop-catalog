domain: hubspot.fivetran-interop
transforms:
  - name: company
    from:
      - companies: hubspot.companies
    fields:
      _fivetran_synced:
        expression: companies._airbyte_extracted_at
        description: '{{ doc("_fivetran_synced") }}'
      id:
        expression: companies.id
        description: The ID of the company.
      portal_id:
        expression: MISSING
        description: '{{ doc("portal_id") }}'
      is_deleted:
        expression: companies.archived
        description: '{{ doc("is_deleted") }}'
      property_name:
        expression: companies.properties.name
        description: The name of the company.
      property_description:
        expression: companies.properties.description
        description: A short statement about the company's mission and goals.
      property_createdate:
        expression: companies.properties.createdate
        description: The date the company was added to your account.
      property_industry:
        expression: companies.properties.industry
        description: The type of business the company performs.
      property_address:
        expression: companies.properties.address
        description: The street address of the company.
      property_address_2:
        expression: companies.properties.address2
        description: Additional address information for the company.
      property_city:
        expression: companies.properties.city
        description: The city where the company is located.
      property_state:
        expression: MISSING
        description: The state where the company is located.
      property_country:
        expression: companies.properties.country
        description: The country where the company is located.
      property_annualrevenue:
        expression: companies.properties.annualrevenue
        description: The actual or estimated annual revenue of the company.
annotations:
  approved: true
  missing_fields:
    - portal_id
    - property_state
  evaluation:
    source_stream_name: companies
    target_table_name: company
    table_match_score: 0.7
    completion_score: 0.86
    explanation: Table match confidence is reasonably high, considering the target
      schema's table fields are closely matched with source fields.
    field_mapping_evals:
      - name: _fivetran_synced
        expression: companies._airbyte_extracted_at
        score: 1.0
        explanation: Standard mapping for all tables.
      - name: id
        expression: companies.id
        score: 1.0
        explanation: Exact match found with the corresponding source field.
      - name: portal_id
        expression: MISSING
        score: 0.0
        explanation: No good match found.
      - name: is_deleted
        expression: companies.archived
        score: 0.7
        explanation: Matches a logical field in the source schema.
      - name: property_name
        expression: companies.properties.name
        score: 1.0
        explanation: Exact match found with the source field.
      - name: property_description
        expression: companies.properties.description
        score: 1.0
        explanation: Exact match found based on description.
      - name: property_createdate
        expression: companies.properties.createdate
        score: 1.0
        explanation: Exact match found based on purpose.
      - name: property_industry
        expression: companies.properties.industry
        score: 1.0
        explanation: Exact match found for describing business type.
      - name: property_address
        expression: companies.properties.address
        score: 1.0
        explanation: Exact match found for street address.
      - name: property_address_2
        expression: companies.properties.address2
        score: 1.0
        explanation: Matches additional address information.
      - name: property_city
        expression: companies.properties.city
        score: 1.0
        explanation: Exact match found for city location.
      - name: property_state
        expression: MISSING
        score: 0.0
        explanation: No good match found.
      - name: property_country
        expression: companies.properties.country
        score: 1.0
        explanation: Exact match found for country location.
      - name: property_annualrevenue
        expression: companies.properties.annualrevenue
        score: 1.0
        explanation: Exact match found for annual revenue.
