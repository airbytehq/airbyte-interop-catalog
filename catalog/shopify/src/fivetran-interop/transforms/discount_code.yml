domain: shopify.fivetran-interop
transforms:
  - name: discount_code
    from:
      - discount_codes: shopify.discount_codes
    fields:
      _fivetran_synced:
        expression: discount_codes._airbyte_extracted_at
        description: "{{ doc('_fivetran_synced') }}"
      code:
        expression: discount_codes.code
        description:
          The case-insensitive discount code that customers use at checkout.
          Shopify recommends this map onto the associated `price_rule.title`.
      created_at:
        expression: discount_codes.created_at
        description:
          The date and time (ISO 8601 format) when the discount code was
          created.
      id:
        expression: discount_codes.id
        description: The ID for the discount code.
      price_rule_id:
        expression: discount_codes.price_rule_id
        description: The ID for the price rule that this discount code belongs to.
      updated_at:
        expression: discount_codes.updated_at
        description:
          The date and time (ISO 8601 format) when the discount code was
          updated.
      usage_count:
        expression: discount_codes.usage_count
        description: The number of times that the discount code has been redeemed.
