domain: shopify.fivetran-interop
transforms:
  - name: order_note_attribute
    from:
      - order_risks: shopify.order_risks
    fields:
      _fivetran_synced:
        expression: order_risks._airbyte_extracted_at
        description: "{{ doc('_fivetran_synced') }}"
      name:
        expression: order_risks.source
        description: Name of the attribute.
      order_id:
        expression: order_risks.order_id
        description: ID referencing the order the note attribute belongs to.
      value:
        expression: order_risks.score
        description: Value of the attribute.
annotations:
  approved: true
  missing_fields: []
  evaluation:
    source_stream_name: order_risks
    target_table_name: order_note_attribute
    name_match_score: 0.8
    score: 0.85
    explanation:
      The mappings have been evaluated with a relatively high confidence.
      The mapping for '_fivetran_synced' to 'order_risks._airbyte_extracted_at' was
      perfect, scoring 1. The mapping of 'order_id' and 'value' are semantically correct
      and distinct, but there could be ambiguity in real-world usage, thus scoring
      0.7. 'name' has a higher confidence due to specificity in attributes, scoring
      0.7 as well.
    field_mapping_evals:
      - name: _fivetran_synced
        expression: order_risks._airbyte_extracted_at
        score: 1.0
        explanation: Perfect match with '_airbyte_extracted_at' as instructed.
      - name: name
        expression: order_risks.source
        score: 0.7
        explanation:
          Potential for correct matching against 'source', but possible
          semantic ambiguity.
      - name: order_id
        expression: order_risks.order_id
        score: 0.7
        explanation:
          Mapping is likely correct for 'order_id'; distinct identifier,
          but needs confirmation.
      - name: value
        expression: order_risks.score
        score: 0.7
        explanation:
          "'score' is a reasonable match for 'value', but there could be
          context differences."
