domain: shopify.fivetran-interop
transforms:
  - name: product
    from:
      - products: shopify.products
    fields:
      _fivetran_deleted:
        expression: MISSING
        description: Whether the record has been deleted in the source system.
      _fivetran_synced:
        expression: products._airbyte_extracted_at
        description: "{{ doc('_fivetran_synced') }}"
      created_at:
        expression: products.created_at
        description: The date and time when the product was created.
      handle:
        expression: products.handle
        description:
          A unique human-friendly string for the product. Automatically
          generated from the product's title.
      id:
        expression: products.id
        description:
          An unsigned 64-bit integer that's used as a unique identifier
          for the product. Each id is unique across the Shopify system. No two products
          will have the same id, even if they're from different shops.
      product_type:
        expression: products.product_type
        description:
          A categorization for the product used for filtering and searching
          products.
      published_at:
        expression: products.published_at
        description:
          The date and time (ISO 8601 format) when the product was published.
          Can be set to null to unpublish the product from the Online Store channel.
      published_scope:
        expression: products.published_scope
        description: Whether the product is published to the Point of Sale channel.
      title:
        expression: products.title
        description: The name of the product.
      updated_at:
        expression: products.updated_at
        description: The date and time when the product was last modified.
      vendor:
        expression: products.vendor
        description: The name of the product's vendor.
      status:
        expression: products.status
        description:
          "The status of the product. Valid values: - active: The product
          is ready to sell and is available to customers on the online store, sales
          channels, and apps. By default, existing products are set to active. - archived:
          The product is no longer being sold and isn't available to customers on
          sales channels and apps. - draft: The product isn't ready to sell and is
          unavailable to customers on sales channels and apps. By default, duplicated
          and unarchived products are set to draft.\n"
annotations:
  approved: true
  missing_fields:
    - _fivetran_deleted
  evaluation:
    source_stream_name: products
    target_table_name: product
    name_match_score: 0.8
    score: 0.72
    explanation:
      The overall table mapping evaluation considers the individual field
      mapping scores and the adherence to expected mapping patterns. Fields without
      valid expressions, like 'MISSING', receive a score of 0.0, negatively impacting
      the overall score. The table scores well due to accurate mappings for critical
      fields.
    field_mapping_evals:
      - name: _fivetran_deleted
        expression: MISSING
        score: 0.0
        explanation:
          Expression is 'MISSING', indicating the mapping is missing or
          uncertain.
      - name: _fivetran_synced
        expression: products._airbyte_extracted_at
        score: 0.7
        explanation:
          Mapped correctly to '_airbyte_extracted_at', as expected for
          fivetran synchronization fields.
      - name: created_at
        expression: products.created_at
        score: 1.0
        explanation:
          Perfect mapping, 'products.created_at' matches perfectly with
          'created_at' description.
      - name: handle
        expression: products.handle
        score: 1.0
        explanation:
          Perfect mapping, 'products.handle' is well-matched with 'handle'
          description.
      - name: id
        expression: products.id
        score: 1.0
        explanation: Perfect mapping, 'products.id' is well-matched with 'id' description.
      - name: product_type
        expression: products.product_type
        score: 1.0
        explanation:
          Perfect mapping, 'products.product_type' is well-matched with
          'product_type' description.
      - name: published_at
        expression: products.published_at
        score: 1.0
        explanation:
          Perfect mapping, 'products.published_at' is well-matched with
          'published_at' description.
      - name: published_scope
        expression: products.published_scope
        score: 1.0
        explanation:
          Perfect mapping, 'products.published_scope' is well-matched with
          'published_scope' description.
      - name: title
        expression: products.title
        score: 1.0
        explanation:
          Perfect mapping, 'products.title' is well-matched with 'title'
          description.
      - name: updated_at
        expression: products.updated_at
        score: 1.0
        explanation:
          Perfect mapping, 'products.updated_at' is well-matched with 'updated_at'
          description.
      - name: vendor
        expression: products.vendor
        score: 1.0
        explanation:
          Perfect mapping, 'products.vendor' is well-matched with 'vendor'
          description.
      - name: status
        expression: products.status
        score: 1.0
        explanation:
          Perfect mapping, 'products.status' is well-matched with 'status'
          description.
