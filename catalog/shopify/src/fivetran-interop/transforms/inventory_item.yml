domain: shopify.fivetran-interop
transforms:
  - name: inventory_item
    from:
      - inventory_items: shopify.inventory_items
    fields:
      _fivetran_deleted:
        expression: MISSING
        description: "{{ doc('_fivetran_deleted') }}"
      _fivetran_synced:
        expression: inventory_items._airbyte_extracted_at
        description: "{{ doc('_fivetran_synced') }}"
      country_code_of_origin:
        expression: inventory_items.country_code_of_origin
        description:
          The country code (ISO 3166-1 alpha-2) of where the item came
          from.
      created_at:
        expression: inventory_items.created_at
        description:
          The date and time (ISO 8601 format) when the inventory item was
          created.
      id:
        expression: inventory_items.id
        description: The ID of the inventory item.
      province_code_of_origin:
        expression: inventory_items.province_code_of_origin
        description:
          The province code (ISO 3166-2 alpha-2) of where the item came
          from. The province code is only used if the shipping provider for the inventory
          item is Canada Post.
      requires_shipping:
        expression: inventory_items.requires_shipping
        description:
          Boolean representing whether a customer needs to provide a shipping
          address when placing an order containing the inventory item.
      sku:
        expression: inventory_items.sku
        description: The unique SKU (stock keeping unit) of the inventory item.
      tracked:
        expression: inventory_items.tracked
        description:
          Boolean representing whether inventory levels are tracked for
          the item. If true, then the inventory quantity changes are tracked by Shopify.
      updated_at:
        expression: inventory_items.updated_at
        description:
          The date and time (ISO 8601 format) when the inventory item was
          last modified.
      duplicate_sku_count:
        expression: inventory_items.duplicate_sku_count
        description:
          The number of inventory items that share the same SKU with this
          item.
      harmonized_system_code:
        expression: inventory_items.harmonized_system_code
        description: The harmonized system code of the item.
      inventory_history_url:
        expression: MISSING
        description: The URL that points to the inventory history for the item.
      legacy_resource_id:
        expression: MISSING
        description: The ID of the corresponding resource in the REST Admin API.
      measurement_id:
        expression: MISSING
        description: The unique identifier for the inventory item's measurement.
      measurement_weight_value:
        expression: MISSING
        description: The weight value of the inventory item's measurement.
      measurement_weight_unit:
        expression: MISSING
        description: The unit of measurement for the inventory item's weight.
      tracked_editable_locked:
        expression: MISSING
        description:
          Indicates whether the 'tracked' field for the inventory item
          is locked from editing.
      tracked_editable_reason:
        expression: MISSING
        description:
          Provides the reason why the 'tracked' field for the inventory
          item is locked from editing.
      unit_cost_amount:
        expression: MISSING
        description:
          Decimal money amount of the unit cost associated with the inventory
          item.
      unit_cost_currency_code:
        expression: MISSING
        description: Currency of the unit cost associated with the inventory item.
annotations:
  approved: false
  missing_fields:
    - _fivetran_deleted
    - inventory_history_url
    - legacy_resource_id
    - measurement_id
    - measurement_weight_unit
    - measurement_weight_value
    - tracked_editable_locked
    - tracked_editable_reason
    - unit_cost_amount
    - unit_cost_currency_code
  evaluation:
    source_stream_name: inventory_items
    target_table_name: inventory_item
    name_match_score: 0.55
    score: 0.35
    explanation:
      The average confidence score reflects a mix of high confidence in
      some correctly mapped fields and very low (0.0) scores for fields missing expression
      data. The '_fivetran_synced' field has a perfect match with '_airbyte_extracted_at'.
    field_mapping_evals:
      - name: _fivetran_deleted
        expression: MISSING
        score: 0.0
        explanation: Missing expression to match the field.
      - name: _fivetran_synced
        expression: inventory_items._airbyte_extracted_at
        score: 1.0
        explanation:
          Correctly mapped to '_airbyte_extracted_at' which is a standard
          practice.
      - name: country_code_of_origin
        expression: inventory_items.country_code_of_origin
        score: 0.7
        explanation: The field expression and name closely match expected patterns.
      - name: created_at
        expression: inventory_items.created_at
        score: 0.7
        explanation:
          The field expression and name closely match expected patterns
          for creation timestamps.
      - name: id
        expression: inventory_items.id
        score: 0.7
        explanation:
          The field expression and name closely match expected patterns
          for identifiers.
      - name: province_code_of_origin
        expression: inventory_items.province_code_of_origin
        score: 0.6
        explanation: The field expression and name somewhat match the expected patterns.
      - name: requires_shipping
        expression: inventory_items.requires_shipping
        score: 0.7
        explanation: Correctly represents a boolean field related to shipping.
      - name: sku
        expression: inventory_items.sku
        score: 0.7
        explanation: Field expression and name are correctly mapped for SKU identification.
      - name: tracked
        expression: inventory_items.tracked
        score: 0.7
        explanation: Represents boolean tracking status effectively.
      - name: updated_at
        expression: inventory_items.updated_at
        score: 0.7
        explanation: Matches the expected pattern for update timestamps.
      - name: duplicate_sku_count
        expression: inventory_items.duplicate_sku_count
        score: 0.7
        explanation:
          Field expression and name match the expected pattern for counting
          duplicates.
      - name: harmonized_system_code
        expression: inventory_items.harmonized_system_code
        score: 0.7
        explanation:
          The expression and name are well matched to expected patterns
          for system codes.
      - name: inventory_history_url
        expression: MISSING
        score: 0.0
        explanation: Missing expression to match the field.
      - name: legacy_resource_id
        expression: MISSING
        score: 0.0
        explanation: Missing expression to match the field.
      - name: measurement_id
        expression: MISSING
        score: 0.0
        explanation: Missing expression to match the field.
      - name: measurement_weight_value
        expression: MISSING
        score: 0.0
        explanation: Missing expression to match the field.
      - name: measurement_weight_unit
        expression: MISSING
        score: 0.0
        explanation: Missing expression to match the field.
      - name: tracked_editable_locked
        expression: MISSING
        score: 0.0
        explanation: Missing expression to match the field.
      - name: tracked_editable_reason
        expression: MISSING
        score: 0.0
        explanation: Missing expression to match the field.
      - name: unit_cost_amount
        expression: MISSING
        score: 0.0
        explanation: Missing expression to match the field.
      - name: unit_cost_currency_code
        expression: MISSING
        score: 0.0
        explanation: Missing expression to match the field.
