domain: shopify.fivetran-interop
transforms:
  - name: order_line
    from:
      - order_refunds: shopify.order_refunds
    fields:
      _fivetran_synced:
        expression: order_refunds._airbyte_extracted_at
        description: "{{ doc('_fivetran_synced') }}"
      fulfillable_quantity:
        expression: MISSING
        description: 'The amount available to fulfill, calculated as follows: quantity
          - max(refunded_quantity, fulfilled_quantity) - pending_fulfilled_quantity
          - open_fulfilled_quantity'
      fulfillment_status:
        expression: MISSING
        description: How far along an order is in terms line items fulfilled.
      gift_card:
        expression: MISSING
        description: Whether the item is a gift card. If true, then the item is not
          taxed or considered for shipping charges.
      grams:
        expression: MISSING
        description: The weight of the item in grams.
      id:
        expression: order_refunds.id
        description: The ID of the line item.
      name:
        expression: MISSING
        description: The name of the product variant.
      order_id:
        expression: order_refunds.order_id
        description: The ID of the related order.
      price:
        expression: MISSING
        description: The price of the item before discounts have been applied in the
          shop currency.
      product_id:
        expression: MISSING
        description: The ID of the product that the line item belongs to. Can be null
          if the original product associated with the order is deleted at a later
          date.
      quantity:
        expression: MISSING
        description: The number of items that were purchased.
      requires_shipping:
        expression: MISSING
        description: Whether the item requires shipping.
      sku:
        expression: MISSING
        description: The item's SKU (stock keeping unit).
      taxable:
        expression: MISSING
        description: Whether the item was taxable.
      title:
        expression: MISSING
        description: The title of the product.
      total_discount:
        expression: MISSING
        description: The total amount of the discount allocated to the line item in
          the shop currency.
      variant_id:
        expression: MISSING
        description: The ID of the product variant.
      vendor:
        expression: MISSING
        description: The name of the item's supplier.
      index:
        expression: MISSING
        description: Index of the order line.
      pre_tax_price:
        expression: MISSING
        description: The pre tax price of the line item in shop currency.
      pre_tax_price_set:
        expression: MISSING
        description: The pre tax price of the line item in shop currency and presentment
          currency.
      price_set:
        expression: MISSING
        description: The price of the line item in shop and presentment currencies.
      tax_code:
        expression: MISSING
        description: Tax code applied to the line item. As multiple taxes can apply
          to a line item, we recommend referring to `stg_shopify__tax_line`.
      total_discount_set:
        expression: MISSING
        description: The total amount allocated to the line item in the presentment
          currency.
      variant_title:
        expression: MISSING
        description: The title of the product variant.
      variant_inventory_management:
        expression: MISSING
        description: The fulfillment service that tracks the number of items in stock
          for the product variant.
      properties:
        expression: MISSING
        description: Line item properties.
