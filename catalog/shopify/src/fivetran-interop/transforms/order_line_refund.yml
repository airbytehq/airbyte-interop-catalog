domain: shopify.fivetran-interop
transforms:
  - name: order_line_refund
    from:
      - order_refunds: shopify.order_refunds
    fields:
      _fivetran_synced:
        expression: order_refunds._airbyte_extracted_at
        description: "{{ doc('_fivetran_synced') }}"
      id:
        expression: order_refunds.id
        description: The unique identifier of the line item in the refund.
      location_id:
        expression: MISSING
        description:
          TThe unique identifier of the location where the items will be
          restockedBD
      order_line_id:
        expression: MISSING
        description: The ID of the related line item in the order.
      quantity:
        expression: MISSING
        description: The quantity of the associated line item that was returned.
      refund_id:
        expression: MISSING
        description: The ID of the related refund.
      restock_type:
        expression: MISSING
        description: How this refund line item affects inventory levels.
      subtotal:
        expression: MISSING
        description: Subtotal amount of the order line refund in shop currency.
      total_tax:
        expression: MISSING
        description: The total tax applied to the refund in shop currency.
      subtotal_set:
        expression: MISSING
        description:
          The subtotal of the refund line item in shop and presentment
          currencies.
      total_tax_set:
        expression: MISSING
        description: The total tax of the line item in shop and presentment currencies.
annotations:
  approved: false
  missing_fields:
    - location_id
    - order_line_id
    - quantity
    - refund_id
    - restock_type
    - subtotal
    - subtotal_set
    - total_tax
    - total_tax_set
  evaluation:
    source_stream_name: order_refunds
    target_table_name: order_line_refund
    name_match_score: 0.5
    score: 0.18
    explanation:
      The overall confidence score is based on the presence of valid field
      mappings. Out of 11 fields, only 1 has a strong match (`_fivetran_synced`),
      while 10 fields are marked as `MISSING`, resulting in a low overall confidence
      score. The name match score indicates a moderate potential for name mismatches.
    field_mapping_evals:
      - name: _fivetran_synced
        expression: order_refunds._airbyte_extracted_at
        score: 1.0
        explanation: Confidently mapped to `_airbyte_extracted_at` as per instructions.
      - name: id
        expression: order_refunds.id
        score: 0.0
        explanation: No valid mapping expression found.
      - name: location_id
        expression: MISSING
        score: 0.0
        explanation: Expression is `MISSING`, no valid mapping.
      - name: order_line_id
        expression: MISSING
        score: 0.0
        explanation: Expression is `MISSING`, no valid mapping.
      - name: quantity
        expression: MISSING
        score: 0.0
        explanation: Expression is `MISSING`, no valid mapping.
      - name: refund_id
        expression: MISSING
        score: 0.0
        explanation: Expression is `MISSING`, no valid mapping.
      - name: restock_type
        expression: MISSING
        score: 0.0
        explanation: Expression is `MISSING`, no valid mapping.
      - name: subtotal
        expression: MISSING
        score: 0.0
        explanation: Expression is `MISSING`, no valid mapping.
      - name: total_tax
        expression: MISSING
        score: 0.0
        explanation: Expression is `MISSING`, no valid mapping.
      - name: subtotal_set
        expression: MISSING
        score: 0.0
        explanation: Expression is `MISSING`, no valid mapping.
      - name: total_tax_set
        expression: MISSING
        score: 0.0
        explanation: Expression is `MISSING`, no valid mapping.
